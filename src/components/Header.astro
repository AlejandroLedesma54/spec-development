---
import HeaderLink from "./HeaderLink.astro";
import { SITE_TITLE } from "../consts";
import { ClientRouter } from "astro:transitions";
import HamburgerMenu from "./HamburgerMenu.astro";
import ScrollHeaderEffect from "./ScrollHeaderEffect.astro";const page_name = "Move Miami";
const whatsappMessage = encodeURIComponent("Hi! I would like more information on the 99 to 1 project");
const whatsappUrl = `https://wa.me/573001112233?text=${whatsappMessage}`;
---

<header id="header">
  <nav>
    <h2><a href="/">{SITE_TITLE}</a></h2>

    <!-- Links internos -->
    <div class="internal-links hidden md:flex gap-6">
      <HeaderLink href="/">Home</HeaderLink>
      <HeaderLink href="/gallery">Gallery</HeaderLink>
      <HeaderLink href="/contactus">Contact Us</HeaderLink>
    </div>

    <!-- Redes sociales -->
    <div class="social-links hidden md:flex gap-3">
      <a href="https://www.instagram.com/movemiami/" target="_blank" aria-label="Instagram" class="fa-stack">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fab fa-instagram fa-stack-1x fa-inverse"></i>
      </a>
      <a href="https://www.youtube.com/@MoveMiami" target="_blank" aria-label="YouTube" class="fa-stack">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fab fa-youtube fa-stack-1x fa-inverse"></i>
      </a>
      <a href={whatsappUrl} target="_blank" aria-label="WhatsApp" class="fa-stack">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fab fa-whatsapp fa-stack-1x fa-inverse"></i>
      </a>
    </div>

    <!-- Menú móvil -->
    <div class="md:hidden">
      <HamburgerMenu  />
    </div>
  </nav>

  <ScrollHeaderEffect  />
  <ClientRouter />
</header>

<script>
  window.addEventListener("scroll", function () {
    const header = document.getElementById("header");
    if (window.scrollY > 50) {
      header.classList.add("scrolled");
    } else {
      header.classList.remove("scrolled");
    }
  });
</script>

<style>
  header {
    margin: 0;
    padding: 0 1em;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    position: sticky;
    top: 0;
    width: 100%;
    z-index: 999;
    background-color: rgba(255, 255, 255, 1);
    transition: background-color 0.5s ease;
  }
  header.scrolled {
    background-color: transparent;
    box-shadow: none;
    color: rgb(205, 205, 205);
  }
  h2 {
    margin: 0;
    font-size: 1em;
  }
  h2 a {
    text-decoration: none;
  }
  nav {
    display: flex;
    align-items: center;
    justify-content: space-between;
  }
  nav a {
    padding: 1em 0.5em;
    color: black;
    border-bottom: 4px solid transparent;
    text-decoration: none;
  }
  nav a.active {
    border-bottom-color: var(--accent);
  }
/* Íconos heredados (footer, etc.) */
/* Íconos heredados (footer, etc.) */
.social-links {
  display: flex;
  gap: 1.25rem;
  align-items: center;
}

.social-links .fa-stack {
  display: inline-flex;      /* para centrar el contenido del icono */
  align-items: center;
  justify-content: center;
  vertical-align: middle;    /* alinea con el texto */
  font-size: 1.8rem;
  transition: transform 0.3s ease, color 0.3s ease;
  color: #555;
}

.social-links .fa-stack:hover {
  color: #000;
  transform: rotate(8deg) scale(1.1);
}

/* Sólo para los íconos en el header */
header .social-links .fa-stack {
  font-size: 1.2rem;         /* más pequeños en el header */
}

header .social-links .fa-stack:hover {
  transform: rotate(8deg) scale(1.05);
}


  @media (max-width: 720px) {
    .social-links {
      display: none;
    }
  }
</style>
